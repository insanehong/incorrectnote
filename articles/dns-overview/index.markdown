{
    "title": "DNS(Doain Name System) - Overview",
    "author": "Insanehong",
    "date": "2014-02-14T05:20:01.944Z",
    "categories": [
        "DNS"
    ],
    "tags": [
        "DNS"
    ],
    "acceptComment": true,
    "acceptTrackback": true,
    "published": "2014-02-14T05:20:01.944Z",
    "status": "draft",
    "important": false,
    "advanced": {}
}

## 소개
웹개발자로서 벌써 8년째 일을 해오면서 정작 내가 만든 웹서비스가 존재하기 위한 가장 필수적인 요소인 네트워크에 대한 지식이 많이 부족함을 느끼게 되었다. 그래서 네트워크 계층에 대한 스터디를 시작하게 되었고 그 첫 주제로 DNS(Domain Name System)를 선택했다. 

이글을 포함하여 앞으로 DNS 를 다루는 글은 DNS & BIND 라는 책을 기반으로 스터디를 하면서 알게된 내용 혹은 개인적으로 서버에 BIND 를 설치하고 여러가지 실험과 테스트를 통해 알게된 사실들을 다룰 예정이다. 

그 첫번째로 DNS & BIND 책 1,2장을 스터디하면서 정리한 내용을 토대로 DNS 에 대한 개요와 역사등을 간단하게 다뤄볼 예정이다. 

## DNS 의 역사

인터넷의 시초라고 불리우는 ARPAnet 은 1970년대만 하더라도 겨우 수백개정도의 호스트만으로 이루어진 네트워크 였다. 그리고 ARPAnet 에 연결된 호스트들에 대한 이름과 주소는 SRI의 NIS(Network Infomation Center)에서 관리하는 `HOSTS.TXT` 라는 파일 하나에서 관리 되었고 이 파을을 FTP를 통해서 정기적으로 배포하고 ARPAnet 에 접속하려고 하는 호스트들이 이 파일을 받아가는 방식이 였다고 한다. 

> 현재 유닉스계열 기준의 `/etc/hosts` 라는 호스트 테이블을 다루는 파일은 `HOSTS.TXT` 에서 유닉스가 사용하지 않는 필드를 제거하고 만들어 진것이라고 한다.

하지만 `HOSTS.TXT` 을 관리 하는 방식은에 많은 문제점이 발견되었다. 

### HOSTS.TXT 의 문제점
ARPAnet에 연결되길 원하는 호스트 들이 점점 증가하고 TCP/IP 프로토콜이 개발되고 E-mail 이 도입됨에 따라 네트워크가 폭발적으로 늘어남으로서 중앙집중식 관리로 배포되는 `HOSTS.TXT` 은 여러가지 문제점을 가지고 있었다. 

> ARPANET에 연결된 호스트는 1981년에는 213개, 1983년에는 562개, 1984년에는 1,024개, 1985년에는 1,961개, 1986년 2,308개, 1987년 28,174개로 기하급수적인 증가하였다고 한다. 

1. 파일을 배포하기 위해 소요되는 네트워크 트레픽을 SRI가 견뎌낼수 없을 정도가 됨.
2. 수많은 호스트들이 생겨나면서 각호스트들의 유일성 보장을 위해서 IP 주소를 할당 하였지만 호스트명은 따로 관리하지 못함.
3. 누군가 중복된 호스트를 요청하였을때 중복검사를 제대로 하지 못했을 경우 문제의 소지가 커지게 됨.
4. 파일 배포 특성상 각각이 호스트가 가진 파일의 버전이 서로 상이하게 되는 문제로 갱신된 정보가 빠르게 전파되지 못하게 됨. 

 1983년에 이르러 이러한 문제점들을 해결하기 위해서 USC(Uiversity of Southern California)의 정보 과학 학회에 속한 폴 모카페트리스가 DNS 를 기술한 `RFC 882`와 `RFC883` 을 발표하였고 1984년에 인터넷에 도입되었다. 이것이 발전되어 `RFC1034` 와 `RFC1035` 가 되었고 현재의 DNS의 스펙이 되었다. 

## DNS Overview

DNS 는 간단하게 예기하자면 분산 데이터베이스로서 전체 데이터베이스의 일부분을 로컬하게 관리 할 수 있으며 각각의 로컬에서 생성, 변경, 삭제 등의 관리를 독자적으로 수행할 수 있다. 

쉽게 말해서 도메인 이름의 각각의 도메인영역에 권한을 위임하고 이 전체 시스템은 네트워크를 통해 `클라이언트-서버` 방식으로 데이터 각부분을 이용할 수 있게 한 것이다. 

### DNS의 구성 요소

DNS 를 구성하는 요소는 크게 `도메인 이름 공간(Domain Name Space)`, `리소스 레코드(Resource Recode)`, `네임서버(Name Server)`, `리졸버(Resolver)` 4가지로 나눌수 있다. 

### 도메인 이름 공간
DNS의 데이터베이스 구조는 유닉스 파일 시스템과 유사한 역트리 구조로 이루어져 있다. 

![DNS-TREE](./@img/dns-tree.png)




 
 
